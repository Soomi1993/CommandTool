<!DOCTYPE html>

<head>

    <script>

        function GetAllCommand() {
            // 异步对象
            var xhr = new XMLHttpRequest();
            var url = "/all_commands";
            xhr.open('get', url);

            xhr.send();

            // 发送并接受返回值
            xhr.onreadystatechange = function () {
                // 这步为判断服务器是否正确响应
                if (xhr.readyState == 4 && xhr.status == 200) {
                    var result = document.getElementById("command_result");
                    result.innerHTML = xhr.responseText;
                }
            };
        }

        function SendCommand(name, command) {
            // 异步对象
            var xhr = new XMLHttpRequest();
            var data = 'name=' + name + '&command=' + command;

            var url = "/run_command?" + data;
            xhr.open('get', url);


            xhr.send();

            // 发送并接受返回值
            xhr.onreadystatechange = function () {
                // 这步为判断服务器是否正确响应
                if (xhr.readyState == 4 && xhr.status == 200) {
                    var result = document.getElementById("command_result");
                    result.innerHTML = xhr.responseText;
                }
            };
        }

        function ClickSendCommand() {
            SendCommand("test", "adb test");
        }
    </script>
</head>

<body>
    <button onclick="ClickSendCommand()"> send command</button><br />
    <button onclick="GetAllCommand()"> all command</button><br />
    <textarea id="command_result" rows="10" cols="20"></textarea>
</body>

</html>